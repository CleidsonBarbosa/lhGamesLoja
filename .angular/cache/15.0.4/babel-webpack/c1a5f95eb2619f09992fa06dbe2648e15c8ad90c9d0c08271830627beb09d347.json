{"ast":null,"code":"import { Produto } from 'src/app/models/Produto.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/produto.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/login.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/card\";\nfunction ListaProdutoComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \" \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(2, \"th\", 3);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelement(12, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \" \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \" \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(18, \"td\")(19, \"a\", 5);\n    i0.ɵɵtext(20, \"Editar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(21, \" \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(22, \"td\")(23, \"a\", 6);\n    i0.ɵɵlistener(\"click\", function ListaProdutoComponent_tr_29_Template_a_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const p_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.excluir(p_r1.id));\n    });\n    i0.ɵɵtext(24, \"Excluir\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(25, \" \\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r1.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r1.produto);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r1.descricao);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"./assets/img/\", p_r1.foto, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(16, 6, p_r1.preco, \"BRL\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/restrito/editar/\", p_r1.id, \"\");\n  }\n}\nexport class ListaProdutoComponent {\n  constructor(_produtoService, _router, _loginService) {\n    this._produtoService = _produtoService;\n    this._router = _router;\n    this._loginService = _loginService;\n    this.produtos = [];\n  }\n  ngOnInit() {\n    this.listarProdutos();\n    this._loginService.setMostraMenu(false);\n  }\n  listarProdutos() {\n    this._produtoService.getProdutos().subscribe(retornaProduto => {\n      this.produtos = retornaProduto.map(item => {\n        return new Produto(item.id, item.produto, item.descricao, item.foto, item.preco);\n      });\n    });\n  }\n  excluir(id) {\n    this._produtoService.removerProduto(id).subscribe(produto => {\n      this.listarProdutos();\n    }, err => {\n      alert(\"Erro ao Excluir\");\n    });\n    this._router.navigate([\"/restrito/lista\"]);\n  }\n}\nListaProdutoComponent.ɵfac = function ListaProdutoComponent_Factory(t) {\n  return new (t || ListaProdutoComponent)(i0.ɵɵdirectiveInject(i1.ProdutoService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.LoginService));\n};\nListaProdutoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListaProdutoComponent,\n  selectors: [[\"app-lista-produto\"]],\n  decls: 31,\n  vars: 1,\n  consts: [[1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\"], [\"mat-card-image\", \"\", \"alt\", \"produto\", 3, \"src\"], [\"role\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [\"role\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function ListaProdutoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\", 0)(1, \"thead\");\n      i0.ɵɵtext(2, \" \\u00A0 \\u00A0 \");\n      i0.ɵɵelementStart(3, \"tr\");\n      i0.ɵɵtext(4, \" \\u00A0 \\u00A0 \\u00A0 \");\n      i0.ɵɵelementStart(5, \"th\", 1);\n      i0.ɵɵtext(6, \"Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \" \\u00A0 \\u00A0 \\u00A0 \");\n      i0.ɵɵelementStart(8, \"th\", 1);\n      i0.ɵɵtext(9, \"Produto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \" \\u00A0 \\u00A0 \\u00A0 \");\n      i0.ɵɵelementStart(11, \"th\", 1);\n      i0.ɵɵtext(12, \"Descri\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \" \\u00A0 \\u00A0 \\u00A0 \");\n      i0.ɵɵelementStart(14, \"th\", 1);\n      i0.ɵɵtext(15, \"Foto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(16, \" \\u00A0 \\u00A0 \\u00A0 \");\n      i0.ɵɵelementStart(17, \"th\", 1);\n      i0.ɵɵtext(18, \"Pre\\u00E7o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \" \\u00A0 \\u00A0 \\u00A0 \");\n      i0.ɵɵelementStart(20, \"th\", 1);\n      i0.ɵɵtext(21, \"Editar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(22, \" \\u00A0 \\u00A0 \\u00A0 \");\n      i0.ɵɵelementStart(23, \"th\", 1);\n      i0.ɵɵtext(24, \"Excluir\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \" \\u00A0 \\u00A0 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \" \\u00A0 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(27, \" \\u00A0 \");\n      i0.ɵɵelementStart(28, \"tbody\");\n      i0.ɵɵtemplate(29, ListaProdutoComponent_tr_29_Template, 26, 9, \"tr\", 2);\n      i0.ɵɵtext(30, \" \\u00A0 \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(29);\n      i0.ɵɵproperty(\"ngForOf\", ctx.produtos);\n    }\n  },\n  dependencies: [i4.NgForOf, i2.RouterLink, i5.MatCardImage, i4.CurrencyPipe],\n  styles: [\"table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    height: 50px;\\r\\n    width: 50px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVzdHJpdG8vbGlzdGEtcHJvZHV0by9saXN0YS1wcm9kdXRvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osV0FBVztBQUNmIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUgaW1nIHtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,OAAO,QAAQ,8BAA8B;;;;;;;;;;ICU9CC,0BAA+B;IAC3BA,sCAAM;IAAAA,6BAAgB;IAAAA,YAAQ;IAAAA,iBAAK;IACnCA,sCAAM;IAAAA,0BAAI;IAAAA,YAAa;IAAAA,iBAAK;IAC5BA,sCAAM;IAAAA,0BAAI;IAAAA,YAAe;IAAAA,iBAAK;IAC9BA,uCAAM;IAAAA,2BAAI;IAAAA,0BAAgE;IAAAA,iBAAK;IAC/EA,uCAAM;IAAAA,2BAAI;IAAAA,aAA8B;;IAAAA,iBAAK;IAC7CA,uCAAM;IAAAA,2BAAI;IAAgFA,uBAAM;IAAAA,iBAAI;IACpGA,uCAAM;IAAAA,2BAAI;IAAwCA;MAAA;MAAA;MAAA;MAAA,OAASA,sCAAa;IAAA,EAAC;IAACA,wBAAO;IAAAA,iBAAI;IACrFA,gCAAI;IAAAA,iBAAK;;;;IAPaA,eAAQ;IAARA,6BAAQ;IACpBA,eAAa;IAAbA,kCAAa;IACbA,eAAe;IAAfA,oCAAe;IACKA,eAA6B;IAA7BA,kFAA6B;IACjDA,eAA8B;IAA9BA,8DAA8B;IACHA,eAAsC;IAAtCA,yEAAsC;;;ADRvF,OAAM,MAAOC,qBAAqB;EAIhCC,YAAoBC,eAA8B,EAAUC,OAAe,EACjEC,aAA0B;IADhB,oBAAe,GAAfF,eAAe;IAAyB,YAAO,GAAPC,OAAO;IACzD,kBAAa,GAAbC,aAAa;IAHhB,aAAQ,GAAc,EAAE;EAGO;EAEtCC,QAAQ;IACN,IAAI,CAACC,cAAc,EAAE;IACrB,IAAI,CAACF,aAAa,CAACG,aAAa,CAAC,KAAK,CAAC;EACzC;EAEAD,cAAc;IACZ,IAAI,CAACJ,eAAe,CAACM,WAAW,EAAE,CAACC,SAAS,CAC1CC,cAAc,IAAG;MACf,IAAI,CAACC,QAAQ,GAAGD,cAAc,CAACE,GAAG,CAChCC,IAAI,IAAG;QACL,OAAO,IAAIf,OAAO,CAChBe,IAAI,CAACC,EAAE,EACPD,IAAI,CAACE,OAAO,EACZF,IAAI,CAACG,SAAS,EACdH,IAAI,CAACI,IAAI,EACTJ,IAAI,CAACK,KAAK,CACX;MACH,CAAC,CACF;IACH,CAAC,CACF;EACH;EAEAC,OAAO,CAACL,EAAU;IAChB,IAAI,CAACZ,eAAe,CAACkB,cAAc,CAACN,EAAE,CAAC,CAACL,SAAS,CAC/CM,OAAO,IAAG;MACR,IAAI,CAACT,cAAc,EAAE;IACvB,CAAC,EACDe,GAAG,IAAG;MAAEC,KAAK,CAAC,iBAAiB,CAAC;IAAA,CAAC,CAClC;IAEC,IAAI,CAACnB,OAAO,CAACoB,QAAQ,CAAC,CAAC,iBAAiB,CAAC,CAAC;EAE9C;;AAxCWvB,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXlC7B,gCAAqB;MAEbA,+BAAI;MAAAA,0BAAI;MACJA,sCAAM;MAAAA,6BAAgB;MAAAA,kBAAE;MAAAA,iBAAK;MAC7BA,sCAAM;MAAAA,6BAAgB;MAAAA,uBAAO;MAAAA,iBAAK;MAClCA,uCAAM;MAAAA,8BAAgB;MAAAA,oCAAS;MAAAA,iBAAK;MACpCA,uCAAM;MAAAA,8BAAgB;MAAAA,qBAAI;MAAAA,iBAAK;MAC/BA,uCAAM;MAAAA,8BAAgB;MAAAA,2BAAK;MAAAA,iBAAK;MAChCA,uCAAM;MAAAA,8BAAgB;MAAAA,uBAAM;MAAAA,iBAAK;MACjCA,uCAAM;MAAAA,8BAAgB;MAAAA,wBAAO;MAAAA,iBAAK;MAClCA,gCAAI;MAAAA,iBAAK;MACbA,yBAAE;MAAAA,iBAAQ;MACdA,yBAAE;MAAAA,8BAAO;MACLA,uEAQa;MACbA,yBAAE;MAAAA,iBAAQ;;;MATQA,gBAAW;MAAXA,sCAAW","names":["Produto","i0","ListaProdutoComponent","constructor","_produtoService","_router","_loginService","ngOnInit","listarProdutos","setMostraMenu","getProdutos","subscribe","retornaProduto","produtos","map","item","id","produto","descricao","foto","preco","excluir","removerProduto","err","alert","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Cleidson Barbosa\\Desktop\\teste\\lh-games-loja\\src\\app\\restrito\\lista-produto\\lista-produto.component.ts","C:\\Users\\Cleidson Barbosa\\Desktop\\teste\\lh-games-loja\\src\\app\\restrito\\lista-produto\\lista-produto.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LoginService } from 'src/app/login.service';\nimport { Produto } from 'src/app/models/Produto.model';\nimport { ProdutoService } from 'src/app/produto.service';\n\n@Component({\n  selector: 'app-lista-produto',\n  templateUrl: './lista-produto.component.html',\n  styleUrls: ['./lista-produto.component.css']\n})\nexport class ListaProdutoComponent implements OnInit{\n\n  public produtos: Produto[] = [];\n\n  constructor(private _produtoService:ProdutoService, private _router: Router,\n    private _loginService:LoginService){}\n\n  ngOnInit(): void {\n    this.listarProdutos();\n    this._loginService.setMostraMenu(false);\n  }\n\n  listarProdutos():void{\n    this._produtoService.getProdutos().subscribe(\n      retornaProduto =>{\n        this.produtos = retornaProduto.map(\n          item => {\n            return new Produto(\n              item.id,\n              item.produto,\n              item.descricao,\n              item.foto,\n              item.preco\n            );\n          }\n        )\n      }\n    )\n  }\n\n  excluir(id: number){\n    this._produtoService.removerProduto(id).subscribe(\n      produto => {\n        this.listarProdutos();\n      },\n      err => {alert(\"Erro ao Excluir\")}\n    );\n\n      this._router.navigate([\"/restrito/lista\"]);\n\n  }\n\n}\n","<table class=\"table\">\n     <thead>\n            <tr>\n                  <th scope=\"col\">Id</th>\n                  <th scope=\"col\">Produto</th>\n                  <th scope=\"col\">Descrição</th>\n                  <th scope=\"col\">Foto</th>\n                  <th scope=\"col\">Preço</th>\n                  <th scope=\"col\">Editar</th>\n                  <th scope=\"col\">Excluir</th>\n                </tr>\n          </thead>\n      <tbody>\n        <tr *ngFor=\"let p of produtos\">\n                  <th scope=\"row\">{{p.id}}</th>\n                  <td>{{p.produto}}</td>\n                  <td>{{p.descricao}}</td>\n                  <td><img mat-card-image src=\"./assets/img/{{p.foto}}\" alt=\"produto\"></td>\n                  <td>{{p.preco | currency : 'BRL'}}</td>\n                  <td><a class=\"btn btn-primary\" routerLink=\"/restrito/editar/{{p.id}}\" role=\"button\">Editar</a></td>\n                  <td><a class=\"btn btn-danger\" role=\"button\" (click)=\"excluir(p.id)\">Excluir</a></td>\n                </tr>\n          </tbody>\n</table>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}